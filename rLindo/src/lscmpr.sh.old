#!/bin/bash

grep "SEXP rc" rLindo.c  |  awk -F" " '{ print $2 }' | awk -F\( '{ print $1 }' | sort -u  > tmp/a
grep "SEXP rc" rLindo.h  |  awk -F" " '{ print $2 }' | awk -F\( '{ print $1 }' | sort -u  > tmp/a2

grep LS_CALLTYPE ../../../dirbnb/ship/lindo.h  |\
		grep -v "LSdate*" |\
		grep -v "LSgetMatrix*" |\
		grep -v "LSgetCL*" |\
		grep -v "LSinstalExternalSolver*" |\
		grep -v "LSdeleteExternalSolver*" |\
		grep -v "LSsolveExternally*" |\
		grep -v "LSgetEigs*" |\
		grep -v "LSgetQCEigs*" |\
		grep -v "LSsetMIPCallbackInsMIP*" |\
		grep -v "__stdcall*" |\
		grep -v "LS[sg]etJava*" |\
		awk -F" " '{ print $3 }' |\
		awk -F"(" '{ print "rc"$1 }' |\
		sort -u > tmp/b

# a <-- functions implemented in lindojni.c
# b <-- functions in lindo.h  (filtered as above)

diff -w tmp/a tmp/b | grep ">" | tee tmp/c
echo
echo Above is the list of functions missing in rLindo.c compared to lindo.h

#diff -w tmp/a2 tmp/b | grep ">" | tee tmp/c2
#echo
#echo Above is the list of functions missing in rLindo.h compared to lindo.h

#diff -w tmp/c tmp/c2 | grep ">" | tee tmp/d
#echo
#echo Above is the list of functions in pyLindo.c but not in .h 
